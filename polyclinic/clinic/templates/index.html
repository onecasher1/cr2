{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h1 class="mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–æ–π</h1>

    <!-- –í–∏–¥–∂–µ—Ç 1: –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –≤—Ä–∞—á–∏ -->
    <div class="card mb-4">
        <div class="card-header">üè• –¢–æ–ø-5 –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤—Ä–∞—á–µ–π</div>
        <ul class="list-group list-group-flush">
            {% for doctor in top_doctors %}
                <li class="list-group-item">
                    {{ doctor.last_name }} ({{ doctor.appointment_count }} –ø—Ä–∏—ë–º–æ–≤)
                </li>
            {% endfor %}
        </ul>
    </div>

    <!-- –í–∏–¥–∂–µ—Ç 2: –ë–ª–∏–∂–∞–π—à–∏–µ –ø—Ä–∏—ë–º—ã -->
    <div class="card mb-4">
        <div class="card-header">üìÖ –ë–ª–∏–∂–∞–π—à–∏–µ –ø—Ä–∏—ë–º—ã</div>
        <ul class="list-group list-group-flush">
            {% for appointment in upcoming_appointments %}
                <li class="list-group-item">
                    {{ appointment.patient.last_name }} ‚Äì {{ appointment.doctor.last_name }} ‚Äì {{ appointment.appointment_date }} {{ appointment.appointment_time }}
                </li>
            {% endfor %}
        </ul>
    </div>

    <!-- –í–∏–¥–∂–µ—Ç 3: –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏ -->
    <div class="card mb-4">
        <div class="card-header">‚ö†Ô∏è –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏</div>
        <ul class="list-group list-group-flush">
            {% for error in recent_errors %}
                <li class="list-group-item">
                    {{ error.doctor.last_name }} ‚Äì {{ error.error_date }}: {{ error.error_description|truncatechars:60 }}
                </li>
            {% endfor %}
        </ul>
    </div>
</div>
</body>
</html>
